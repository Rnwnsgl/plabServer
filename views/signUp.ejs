<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>플랩 풋볼</title>
</head>
<style>
    .image-wrapper{
        width: 100%;
    }
    .image{
        max-width: 100%;
        height: auto;
    }
    .box{
        width: 300px;
        height: 30px; 
        border-radius: 5px;
        margin-bottom: 15px;
    }
</style>
<script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
<script>
    function joinUser() {
        var form = document.getElementById("form_signUp"); 
        axios({
            method: 'post',
            url: 'http://localhost:3000/join',
            data: {
                user_id: form.id.value,
                user_pw: form.pw.value,
                user_name: form.name.value,
                user_gender: form.gender.value,
            }
        }).then((res) => {
            return res.data;
        }).then((data) => {
            alert('회원가입을 축하드립니다!')
            window.location.href = 'http://localhost:3000/';
        }).catch((error) => {
            console.error("오류 발생", error);
        }); 
    }
</script>
<body>
    <h1>회원 가입</h1>
    <form id="form_signUp">    
        <div>
            <label for="id">이메일</label><br>
            <input name="id" type="email" class="box" placeholder="이메일을 입력하세요"  required />
        </div>
        <div>

            <label for="password">비밀번호</label><br>
            <input name="pw" type="password" class="box" placeholder="비밀번호를 입력하세요"  required /> 
        </div>
        <!-- <div>
            <label for="pwcheck">비밀번호 확인</label><br>
            <input name="pw_check" type="password" class="box" placeholder="비밀번호를 한번 더 입력하세요"  required /> 
        </div> -->
        <div>
            <label for="name"">이름</label><br>
            <input name="name" type="text" class="box" placeholder="이름을 입력하세요"  required /> 
        </div>
        <div>
            <label for="gender"">성별</label><br>
            <select name="gender" class="box">
              <option value="" disabled selected>성별을 선택하세요</option>
              <option value="남자">남자</option>
              <option value="여자">여자</option>
            </select>
        </div>
        <!-- <div>
            <label for="user_birth"">생년월일</label><br>
            <input name="birth" type="text" class="box" placeholder="예) 0000-00-00" required /> 
        </div>
        <div>
            <label for="user_phone"">휴대폰 번호</label><br>
            <input name="phone" type="text" class="box" placeholder="예) 01012345678"  required /> 
        </div> -->
        <div>
            <button type="button" onclick="joinUser()" class="box" style="background-color: rgb(47, 78, 255); color:white"">회원가입</button>
        </div>
        <div>
            <button onclick="history.back()" class="box" style="background-color: rgb(50, 50, 50); color:white">취소</button>
      </div>
    </form>
</body>
</html>